###### 1.standard 标准模式

standard是活动默认的启动模式，在不进行显示指定的情况下，所有的活动都会自动使用这种启动模式。如下图：

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/10.png)

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/11.png)

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/12.png)

Hello2的启动模式就是标准模式，并在代码中添加了打印信息的代码，将当前活动的实例打印出来。在手机模拟器位于主界面时，点击TOHELLO2。页面跳转至Hello2，logcat变化如下图所示：

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/13.png)

可以看到Hello1运行了onStop(),进入暂停状态。Hello2调用onCreate()函数创建了一个新的实例。再对TOHELLO2按钮连续点击两次，logcat记录如下：

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/14.png)

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/15.png)

很容易发现，在每次点击TOHELLO2按钮时，系统都会运行onCreate()函数创建一个新的实例。也就是说，对于使用了standard模式的活动，系统不会在乎这个活动是否已经存在，每日次启动都会创建该活动的一个新的实例。

###### 2.singleTop 单顶模式

将程序中的部分代码改成下图所示：

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/20.png)

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/21.png)

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/22.png)

运行程序，此时Hello3的启动模式是singleTask。点击TOHELLO3按钮，logcat记录如下：

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/23.png)

系统调用onCreate()函数创建Hello3的一个新的实例。

再次点击TOHELLO3按钮，logcat记录如下：

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/24.png)

此时，系统在返回栈中检查到存在该活动的实例，所以直接使用该实例。

点击TOHELLO2按钮，再点击TOHELLO3按钮，logcat记录如下：

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/25.png)

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/26.png)

点击TOHELLO2 按钮之后，Hello3进入停止状态，此时点击TOHELLO3按钮，Hello3已经没有在栈顶了，所以系统会再创建Hello3的一个新的活动实例。

由此，可以看出，当活动的启动模式指定为singleTop，在启动活动时如果发现返回栈的栈顶已经是该活动，则认为可以直接使用它，不会再创建新的活动实例。

###### 3.singleTask 单任务模式

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/30.png)

如上图所示，Hello1的启动模式为singleTask。

运行程序，由于程序将Hello1设置为主界面，所以程序运行之后直接在Hello1界面，logcat记录如下：

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/31.png)

由上图可知，系统创建了一个Hello1的新的活动实例。

在Hello1界面点击按钮进入Hello2，再从Hello2界面点击按钮进入Hello1，logcat记录如下：

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/32.png)

![Image](https://github.com/owahaha/2018118126_Android/raw/master/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F/%E5%AE%9E%E9%AA%8C%E4%BA%8C%20%E5%9B%BE%E7%89%87/33.png)

在Hello2启动Hello1时，系统发现返回栈中已经存在一个Hello1实例，而Hello2实例在Hello1实例上面，所以Hello2实例从返回栈中出栈，Hello1就重新成为栈顶活动。

由此可以看出，如果活动的启动模式指定为singleTask，每次启动该活动时系统首先会在返回栈中检查是否存在该活动的实例，如果发现已经存在则直接使用该实例，并且把这个活动上面的所有活动统统出栈，否则就再创建一个新的活动实例。